(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[874],{4383:function(e,n,t){"use strict";t(1287),t(7432)},6090:function(e,n,t){"use strict";t.d(n,{W:function(){return b}});var l=t(8063),i=t(2699),a=t(1287);t(614);let s="weather-card",o={now:"https://devapi.qweather.com/v7/weather/now",seven:"https://devapi.qweather.com/v7/weather/7d",recent:"https://devapi.qweather.com/v7/minutely/5m"},r={cardData:null,locationIndex:0,now:null,recent:null,seven:null,displayContent:"default"},c=null,d=null,u=(e,n,t)=>{let l=r.cardData;if(null==l)return;let i=0==r.locationIndex?l.location:l.location2,a="key=".concat(l.apiKey,"&location=").concat(i.latitude,",").concat(i.longitude,"&lang=").concat(l.lang);fetch("".concat(o[e],"?").concat(a)).then(e=>e.json()).then(i=>{200==i.code&&(r[e]=i[n],r.renderFunc(m(l,t)))})},x=function(e){u("now","now",e),u("recent","summary",e),u("seven","daily",e)},h=e=>{var n;(null===(n=r.cardData)||void 0===n?void 0:n.location2)&&(r.locationIndex=0==r.locationIndex?1:0,x(e))},m=(e,n)=>{let t=null,l=()=>(function e(n,t){d&&clearTimeout(d),"detail"===r.displayContent?(r.displayContent="sevenDay",d=setTimeout(()=>e(n,t),1e4)):"default"===r.displayContent?r.displayContent="detail":r.displayContent="default",console.log("switch to ".concat(r.displayContent)),r.renderFunc(m(n,t))})(e,n),i=0==r.locationIndex?e.location:e.location2;switch(r.displayContent){case"default":var s,o,c,u,x,p,f,v,g;t=(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)("i",{className:"qi-"+(null==r?void 0:null===(s=r.now)||void 0===s?void 0:s.icon)+" px-2 text-5xl cursor-pointer",onClick:l}),(0,a.jsxs)("div",{className:"flex flex-row items-start px-2 border-r-2",children:[(0,a.jsx)("span",{className:"text-3xl",children:null==r?void 0:null===(o=r.now)||void 0===o?void 0:o.temp}),(0,a.jsx)("span",{className:"text-xl",children:"℃"})]}),(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)("p",{className:"font-bold w-9 mx-2 cursor-pointer",onClick:()=>h(n),children:i.name}),(0,a.jsxs)("div",{className:"relative text-xl w-12",children:[(0,a.jsx)("p",{className:"absolute top-0",children:null==r?void 0:null===(c=r.seven)||void 0===c?void 0:null===(u=c[0])||void 0===u?void 0:u.tempMin}),(0,a.jsx)("div",{className:"absolute w-3/4 h-[2px] -rotate-45 bg-red-200 left-1 top-6"}),(0,a.jsx)("p",{className:"absolute bottom-0 right-0",children:null==r?void 0:null===(x=r.seven)||void 0===x?void 0:null===(p=x[0])||void 0===p?void 0:p.tempMax})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-xl pr-3 flex-shrink-0",children:null==r?void 0:null===(f=r.now)||void 0===f?void 0:f.text}),(0,a.jsxs)("span",{className:"flex flex-col text-sm opacity-75 leading-tight",children:[null==r?void 0:null===(v=r.now)||void 0===v?void 0:v.windDir," ",null==r?void 0:null===(g=r.now)||void 0===g?void 0:g.windScale,n("level")," - ",r.recent]})]})]});break;case"sevenDay":let w=null==r?void 0:r.seven.slice(1,4).map(e=>(0,a.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-xl",children:[(0,a.jsx)("i",{className:"qi-"+e.iconDay}),(0,a.jsx)("i",{className:"qi-"+e.iconNight+" "})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:e.textDay}),(0,a.jsx)("span",{children:e.textNight!=e.textDay?"~"+e.textNight:""})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:e.tempMin}),"~",(0,a.jsx)("span",{children:e.tempMax})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:e.windDirDay}),(0,a.jsxs)("span",{children:[e.windScaleDay,n("level")]})]})]},e.fxDate));t=(0,a.jsx)("div",{className:"flex flex-col items-center justify-between h-full cursor-pointer",onClick:l,children:w});break;case"detail":t=(0,a.jsxs)("div",{className:"px-2 flex flex-col justify-between h-full cursor-pointer",onClick:l,children:[(0,a.jsxs)("div",{className:"flex flex-r justify-between",children:[(0,a.jsx)("span",{children:"".concat(n("humidity")," ").concat(r.now.humidity," %")}),(0,a.jsx)("span",{children:"".concat(n("feelsLike")," ").concat(r.now.feelsLike," \xb0C")})]}),(0,a.jsxs)("div",{className:"flex flex-r justify-between",children:[(0,a.jsx)("span",{children:"".concat(n("cloud")," ").concat(r.now.cloud," %")}),(0,a.jsx)("span",{children:"".concat(n("precip")," ").concat(r.now.precip," mm")})]}),(0,a.jsx)("div",{children:"".concat(n("vis")," ").concat(r.now.vis," km")})]})}return t},p="collection-card",f={collections:[]},v={},g=null;function w(e){let n="".concat(new Date().toLocaleString(),"  ").concat(e(["sun","mon","tue","wed","thu","fri","sat"][new Date().getDay()]));return(0,a.jsx)("div",{className:"text-center text-xl",children:n})}var j=t(1937),y=t(2702);let C={};var N={DefaultCardInfo:{"weather-card":{name:s,position:{landscape:{x:1,y:1,w:8,h:3},portrait:{x:1,y:1,w:8,h:3}},register:{render:(e,n)=>{c&&clearInterval(c),x(n),c=setInterval(function(){x(n)},18e5)},install:(e,n)=>{r.cardData=e[s],r.renderFunc=n},uninstall:()=>{clearInterval(c)}},info:{author:"Amarillys",upgradeGitUrl:"http://github.com/Amarillys/summer-shadow"},style:{extraClass:"bg-red-300/60 rounded-lg p-2"},i18n:{"zh-CN":{cloud:"云量",level:"级",humidity:"湿度",feelsLike:"体感温度",vis:"能见度",precip:"降水量"}}},"collection-card":{name:p,position:{landscape:{x:10,y:1,w:30,h:6},portrait:{x:1,y:1,w:.8,h:9}},register:{render:(e,n)=>{f.readerFunc(function(e){let n=f.collections.map(e=>(0,a.jsxs)("a",{className:"flex flex-col items-center",target:"_blank",href:e.url,children:[(0,a.jsx)("div",{className:"w-12",children:(0,a.jsx)("img",{src:"./img/collections/".concat(e.name.replace(/ /g,"-").split("#")[0].toLowerCase(),".png"),className:"rounded-lg"})}),(0,a.jsx)("div",{children:e.name})]},e.name));return(0,a.jsx)("div",{className:"flex flex-row justify-between p-2",children:n})}(0))},install:(e,n)=>{var t;f.collections=(null===(t=e[p])||void 0===t?void 0:t.collections)||[],f.readerFunc=n},uninstall:()=>{}},info:{author:"Amarillys",upgradeGitUrl:"http://github.com/Amarillys/summer-shadow"},style:{extraClass:"bg-red-300/60 rounded-lg p-2"},i18n:{"zh-CN":{level:"级","collection-card":"收藏卡片"}}},"tiny-clock":{name:"tiny-clock",position:{landscape:{x:-9,y:-1,w:9,h:1},portrait:{x:-9,y:-1,w:9,h:1}},register:{render:(e,n)=>{g&&clearInterval(g),v.renderFunc(w(n)),g=setInterval(function(){v.renderFunc(w(n))},1e3)},install:(e,n)=>{v.renderFunc=n},uninstall:()=>{clearInterval(g)}},info:{author:"Amarillys",upgradeGitUrl:"http://github.com/Amarillys/summer-shadow"},style:{extraClass:"bg-red-300/60 rounded-lg p-1 flex justify-center"},i18n:{"zh-CN":{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"}}},"setting-panel":{name:"setting-panel",position:{landscape:{x:-1,y:-6,w:1,h:4},portrait:{x:-1,y:-6,w:1,h:4}},register:{render:(e,n)=>{C.readerFunc((0,a.jsxs)("div",{className:"flex flex-col justify-between h-full items-center",children:[(0,a.jsx)(j.xRF,{className:"scale-150 cursor-pointer",onClick:()=>C.storeObject.setCurrentPage("setting")}),(0,a.jsx)(y.yjz,{className:"scale-125 cursor-pointer"}),(0,a.jsx)(y.Ctn,{className:"scale-150 cursor-pointer",onClick:()=>C.storeObject.setEditing()})]}))},install:(e,n,t)=>{C.readerFunc=n,C.storeObject=t},uninstall:()=>{}},info:{author:"Amarillys",upgradeGitUrl:"http://github.com/Amarillys/summer-shadow"},style:{extraClass:"bg-red-300/60 rounded-lg px-1 py-4"}}}};let b=(0,l.Ue)((e,n)=>({uiConfig:{blockSize:32,padding:10,language:"zh-CN",rotation:window.innerWidth>window.innerHeight?"landscape":"portrait"},initialized:!1,editing:!0,cardInfos:N.DefaultCardInfo,i18nTexts:{"zh-CN":{user:"用户"}},currentPage:"home",readConfig:()=>{fetch("./data/main.json").then(e=>e.json()).then(t=>{let l=localStorage.getItem("mainData");l?e((0,i.merge)(n(),t,JSON.parse(l))):e((0,i.merge)(n(),t))})},setRotation:n=>e(e=>({uiConfig:{...e.uiConfig,rotation:n}})),setLanguage:n=>e(e=>({uiConfig:{...e.uiConfig,language:n}})),setBlockSize:n=>e(e=>({uiConfig:{...e.uiConfig,blockSize:n}})),setInitialize:n=>e(()=>({initialized:n})),setEditing:n=>e(e=>null!=n?{editing:n}:{editing:!e.editing}),setUIConfig:n=>e(()=>({uiConfig:n})),updateCardPosition(n,t,l){e(e=>({cardInfos:{...e.cardInfos,[n]:{...e.cardInfos[n],position:{...e.cardInfos[n].position,[t]:l}}}}))},registerI18n:n=>e(e=>{let t=Object.keys(n),l=e.i18nTexts;for(let i=0;i<t.length;++i)e.i18nTexts[t[i]]?l[t[i]]={...l[t[i]],...n[t[i]]}:l[t[i]]=n[t[i]];return l}),setCurrentPage:n=>e(()=>({currentPage:n})),t:(e,t)=>n().i18nTexts[n().uiConfig.language][e]||e,importConfig:()=>{},exportConfig:()=>{},updateConfig:n=>{e({uiConfig:n})},saveConfig:()=>{localStorage.setItem("mainData",JSON.stringify(n()))}}))},7432:function(){},614:function(){}}]);